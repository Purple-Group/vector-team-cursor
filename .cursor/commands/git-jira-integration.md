{
  "name": "Jira Auto-Comment on Commit",
  "command": "git-jira-integration",
  "prompt": "# Jira Auto-Comment on Commit\n\n ## Create and perform a To Do list of the following steps:\n\nSteps\n\n1. **Commit and push all uncomiited changed files** from this branch using GitHub MCP and based on devops commit rules then wait until it is pushed\n2. **Get branch name** using GitHub MCP and extract Jira ticket (pattern: `[A-Z]{2,}-\\d+`)\n3. **Get recent commits** from current branch using GitHub MCP\n4. **Summarize commits** - analyze messages and file changes to identify key changes and focus areas\n5. **Format comment** exactly as:\n```\nKey Changes Made:\n- [summary point 1]\n- [summary point 2]\n- [summary point 3]\n\nDevelopment Focus:\n- [focus area 1]\n- [focus area 2]\n- [focus area 3]\n```\n6. **Post to Jira** using Atlassian MCP tools\n7. **If Step 1 completes sucessfully, revert all uncommitted local changes** to sync with the remote repository, otherwise do nothing\n8. **Verify branch sync** - Compare local HEAD with remote HEAD using GitHub MCP. If they differ, note that manual sync may be needed (git pull may require authentication setup)\n\n## Requirements\n\n- Use GitHub MCP for branch/commit info (NO git commands for fetching/pulling)\n- Use Atlassian MCP for posting (NO direct API calls)\n- Extract ticket from branch name only\n- Summarize commits as simple as possible\n- Note: Git pull may fail in non-interactive environments due to authentication. Use GitHub MCP to verify sync status instead."
}