{
  "name": "AD Feature Implementation",
  "command": "ad feature implementation",
  "prompt": "You are implementing a feature following the Accelerated Delivery Framework Context â†’ Plan â†’ Execute workflow.\n\n---\n\n### STEP 1: Context Gathering\n\nBefore implementing, gather context:\n\n1. **Review Architectural Patterns**\n   - Read: `docs/DESIGN_PATTERNS.md`\n   - Read: `docs/PROJECT_STRUCTURE.md`\n   - Read: `docs/ARCHITECTURE.md` (if relevant)\n   - Understand: Established patterns and structure\n\n2. **Review Existing Implementation**\n   - Find similar features in codebase\n   - Understand current approach\n   - Identify reusable patterns\n   - Note: File locations, naming conventions, patterns used\n\n3. **Identify Requirements**\n   - Functional requirements (what needs to be built)\n   - Non-functional requirements (performance, security)\n   - Testing requirements (per `docs/TEST_AUTOMATION_STRATEGY.md`)\n\n---\n\n### STEP 2: Planning\n\nCreate a detailed implementation plan:\n\n1. **Design Overview**\n   - Which layers affected? (Controller, Service, Repository, Model, DTO)\n   - New files needed? (list with paths per PROJECT_STRUCTURE.md)\n   - Existing files to modify? (list with changes)\n\n2. **Pattern Alignment**\n   - How does this fit Repository Pattern?\n   - How does this fit Unit of Work?\n   - How does this fit DTO Pattern?\n   - How does this fit Dependency Injection?\n   - Any deviations? Why? (must be justified)\n\n3. **Implementation Steps**\n   - Step 1: [Database/Models] - Create entities, migrations\n   - Step 2: [Repository] - Create repository interfaces and implementations\n   - Step 3: [Service] - Create service interfaces and implementations\n   - Step 4: [Controller/API] - Create controllers, DTOs\n   - Step 5: [Frontend if applicable] - Create components, services\n   - Step 6: [Tests] - Generate tests per testing pyramid\n\n4. **Risk Assessment**\n   - Breaking changes?\n   - Migration needed?\n   - Performance considerations?\n   - Security considerations?\n\n---\n\n### STEP 3: Implementation\n\nImplement following the plan:\n\n1. **Follow Patterns**\n   - Use Repository Pattern for data access\n   - Use Service Layer for business logic\n   - Use DTOs for API contracts\n   - Inject dependencies via constructor\n   - Follow async/await patterns\n\n2. **File Locations**\n   - Place files in correct folders per PROJECT_STRUCTURE.md\n   - Follow naming conventions\n   - Maintain folder structure\n\n3. **Code Quality**\n   - Follow DESIGN_PATTERNS.md\n   - Write clean, maintainable code\n   - Add comments for complex logic\n   - Handle errors appropriately\n\n---\n\n### STEP 4: Testing\n\nGenerate tests following testing pyramid:\n\n1. **Unit Tests** (60%)\n   - Test service layer logic\n   - Mock all dependencies\n   - Cover happy path + error cases\n   - Follow existing test patterns\n\n2. **Integration Tests** (30%)\n   - Test API endpoints\n   - Use real database (in-memory)\n   - Verify response format\n   - Test error scenarios\n\n3. **E2E Tests** (10% - if critical flow)\n   - Test complete user journey\n   - Verify UI interaction\n   - Use Page Object Model\n\n**Reference**: `docs/TEST_AUTOMATION_STRATEGY.md`\n\n---\n\n### STEP 5: Verification\n\nVerify before completion:\n\n- [ ] Files in correct locations per PROJECT_STRUCTURE.md\n- [ ] Patterns match DESIGN_PATTERNS.md\n- [ ] Dependencies injected via constructor\n- [ ] DTOs used for API contracts\n- [ ] Repository methods async\n- [ ] Service layer has business logic\n- [ ] Controllers are thin (delegate to services)\n- [ ] All tests pass\n- [ ] No linter errors\n- [ ] Code reviewed for security, performance, correctness\n\n---\n\n### STEP 6: Documentation\n\nUpdate documentation:\n\n- [ ] Update README.md if setup/usage changes\n- [ ] Update ARCHITECTURE.md if architectural change\n- [ ] Add inline code comments for complex logic\n- [ ] Update API documentation (Swagger comments)\n- [ ] Update PROJECT_STRUCTURE.md if new files/folders\n- [ ] Create feature summary doc if complex feature\n\n---\n\n### OUTPUT FORMAT\n\nAfter completing implementation:\n\n```\n## Feature Implementation Complete\n\nâœ… Implementation:\n- [Files created/modified]\n\nâœ… Tests:\n- Unit tests: [count]\n- Integration tests: [count]\n- E2E tests: [count]\n\nâœ… Verification:\n- Pattern compliance: âœ…\n- Tests pass: âœ…\n- Documentation updated: âœ…\n\nðŸ“‹ Files Created:\n- [List of files with paths]\n\nðŸ“‹ Files Modified:\n- [List of files]\n```\n\n---\n\n**Important Notes:**\n- NEVER skip context gathering - always read patterns first\n- ALWAYS plan before implementing\n- VERIFY pattern compliance before completion\n- GENERATE tests per testing pyramid\n- UPDATE documentation with every feature\n- Reference: `docs/ai-pod/common/accelerated-delivery-framework.md` (lines 302-417, 839-914)"
}
